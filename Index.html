<!DOCTYPE html>
<html lang="en">
  <head>
    <title>JARVIS - Virtual Assistant</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100;200;300;400;500;600;700&display=swap");
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Roboto Mono", monospace;
      }
      .main {
        min-height: 100vh;
        position: relative;
        width: 100%;
        background: #000;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .main .image-container {
        padding: 10px;
      }

      .main .image-container .image {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .main .image-container .image img {
        width: 550px;
        align-items: center;
        border-radius: 10px;
      }

      .main .image-container h1 {
        color: #00bcd4;
        text-align: center;
        margin-bottom: 10px;
        font-size: 40px;
      }

      .main .image-container p {
        color: #43afc0;
        text-align: center;
        margin-bottom: 40px;
      }
      .main .input {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 40vw;
        height: 50px;
        border-radius: 20px;
        background: rgb(202 253 255 / 50%);
        box-shadow: 0 8px 20px rgba(0, 188, 212, 0.3);
      }

      .main .input .talk {
        background: transparent;
        outline: none;
        border: none;
        width: 50px;
        height: 50px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 15px;
        cursor: pointer;
      }

      .main .input .talk i {
        font-size: 20px;
        color: #aed0d0;
      }

      .main .input .content {
        color: #aed0d0;
        font-size: 15px;
        margin-right: 20px;
      }

      .main .input .command-input {
        width: 300px;
        padding: 10px;
        font-size: 16px;
        border-radius: 10px;
        border: none;
        outline: none;
        color: #333;
        background-color: #f4faff;
        box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .main .input .command-input:focus {
        background-color: #e0f7fa;
        box-shadow: 0 4px 10px rgba(0, 188, 212, 0.3);
        transform: scale(1.02);
      }

      .main .input .submit-btn {
        background: #00bcd4;
        color: #fff;
        padding: 10px 20px;
        margin-left: 10px;
        border-radius: 10px;
        cursor: pointer;
        border: none;
        font-size: 16px;
        transition: all 0.3s ease;
      }

      .main .input .submit-btn:hover {
        background-color: #00a8c4;
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(0, 188, 212, 0.5);
      }
    </style>
  </head>
  <body>
    <section class="main">
      <div class="image-container">
        <div class="image">
          <img
            src="https://i.makeagif.com/media/5-27-2017/1it9YM.gif"
            alt="image"
          />
        </div>
        <h1>J A R V I S</h1>
        <p>I am a Virtual Assistant JARVIS, How may I help you?</p>
      </div>
      <div class="input">
        <button class="talk" id="bol">
          <i class="fas fa-microphone-alt"></i>
        </button>
        <h1 class="content"><label for="bol">Click here to speak</label></h1>
        <!-- Adding a styled textbox for typing command -->
        <input
          type="text"
          class="command-input"
          id="typedCommand"
          placeholder="Type your command here"
        />
        <button class="submit-btn" id="submitCommand">Submit</button>
      </div>
    </section>

    <script>
      // Function to make JARVIS speak text
      function speak(text) {
        var text_speak = new SpeechSynthesisUtterance(text);
        text_speak.rate = 1;
        text_speak.volume = 1;
        text_speak.pitch = 1;
        window.speechSynthesis.speak(text_speak);
      }

      // Function to wish user based on time of day
      function wishMe() {
        var day = new Date();
        var hour = day.getHours();

        if (hour >= 0 && hour < 12) {
          speak("Good Morning Boss...");
        } else if (hour >= 12 && hour < 17) {
          speak("Good Afternoon Master...");
        } else {
          speak("Good Evening Sir...");
        }
      }

      // Call this function immediately when the page loads
      function initializeJARVIS() {
        speak("Initializing JARVIS...");
      }

      // Trigger JARVIS on page load
      window.addEventListener("load", function () {
        initializeJARVIS();
      });

      // Speech recognition setup
      var SpeechRecognition =
        window.SpeechRecognition || window.webkitSpeechRecognition;

      if (SpeechRecognition) {
        var recognition = new SpeechRecognition();

        // Event when speech is recognized
        recognition.onresult = function (event) {
          var currentIndex = event.resultIndex;
          var transcript = event.results[currentIndex][0].transcript;
          document.querySelector(".content").textContent = transcript;
          takeCommand(transcript.toLowerCase());
        };

        // Error handling in speech recognition
        recognition.onerror = function (event) {
          console.error("Speech recognition error detected: " + event.error);
          speak("Sorry, I didn't catch that. Could you please repeat?");
        };

        // Click event for starting speech recognition
        document.querySelector(".talk").addEventListener("click", function () {
          document.querySelector(".content").textContent = "Listening...";
          recognition.start();
        });
      } else {
        speak("Sorry, your browser does not support speech recognition.");
        console.error("Speech recognition not supported by this browser.");
      }

      // Adding the function to capture and process the typed command
      document
        .querySelector("#submitCommand")
        .addEventListener("click", function () {
          var typedCommand = document
            .querySelector("#typedCommand")
            .value.toLowerCase();
          document.querySelector(".content").textContent = typedCommand;
          takeCommand(typedCommand);
        });

      // Function to handle recognized commands
      function takeCommand(message) {
        if (message.includes("hello") || message.includes("hey")) {
          speak("Hello! How can I assist you today?");
        } else if (message.includes("how are you")) {
          speak("I don't have emotions, but thank you for asking!");
        } else if (message.includes("open google")) {
          window.open("https://google.com", "_blank");
          speak("Opening Google...");
        } else if (message.includes("open youtube")) {
          window.open("https://youtube.com", "_blank");
          speak("Opening YouTube...");
        } else if (message.includes("open facebook")) {
          window.open("https://facebook.com", "_blank");
          speak("Opening Facebook...");
        } else if (message.includes("open twitter")) {
          window.open("https://twitter.com", "_blank");
          speak("Opening Twitter...");
        } else if (message.includes("time")) {
          var time = new Date().toLocaleString(undefined, {
            hour: "numeric",
            minute: "numeric",
          });
          speak("The current time is " + time);
        } else if (message.includes("date")) {
          var date = new Date().toLocaleString(undefined, {
            month: "short",
            day: "numeric",
          });
          speak("Today's date is " + date);
        } else if (message.includes("wish me")) {
          wishMe();
        } else if (message.includes("who are you")) {
          speak(
            "I am Jarvis, your virtual assistant, designed to assist you with various tasks."
          );
        } else if (message.includes("your name")) {
          speak("My name is Jarvis!");
        } else if (message.includes("creator")) {
          speak("I was created by Pratik S. Kumbhar!");
        } else if (message.includes("who is pratik")) {
          speak(
            "Pratik is my creator! A talented individual with expertise in AI and coding!"
          );
        } else if (message.includes("who is mayuri")) {
          speak(
            "Mayuri A talented individual with expertise in AI and coding!"
          );
        } else if (message.includes("how old are you")) {
          speak("Age is just a number! Iâ€™m timeless.");
        } else if (message.startsWith("search for")) {
          var query = message.replace("search for", "").trim();
          if (query !== "") {
            var searchUrl =
              "https://www.google.com/search?q=" + query.replace(/ /g, "+");
            window.open(searchUrl, "_blank");
            speak("Searching for: " + query);
          } else {
            speak("Please specify what to search for.");
          }
        } else if (message.includes("what is ai")) {
          speak(
            "Artificial Intelligence is the simulation of human intelligence in machines that are programmed to think and learn."
          );
        } else {
          speak("Sorry, I am not sure how to respond to that.");
        }
      }
    </script>
  </body>
</html>
